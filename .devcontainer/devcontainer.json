// For format details, see https://containers.dev/implementors/json_reference/
{
  // Set *default* container specific settings.json values on container create.
  "customizations": {
    "vscode": {
      "settings": {
        "[css]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[dockerfile]": {
          "editor.defaultFormatter": "ms-azuretools.vscode-containers"
        },
        "[javascript]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[javascriptreact]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[json]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[jsonc]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[markdown]": {
          "editor.defaultFormatter": "yzhang.markdown-all-in-one",
          "editor.wordWrap": "on"
        },
        "[powershell]": {
          "editor.defaultFormatter": "ms-vscode.powershell"
        },

        "[scss]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        // ═══════════════════════════════════════════════════════════════
        // LANGUAGE-SPECIFIC FORMATTERS
        // ═══════════════════════════════════════════════════════════════
        "[typescript]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[typescriptreact]": {
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        },
        "[yaml]": {
          "editor.defaultFormatter": "redhat.vscode-yaml"
        },
        // ═══════════════════════════════════════════════════════════════
        // BETTER COMMENTS
        // ═══════════════════════════════════════════════════════════════
        "better-comments.tags": [
          {
            "tag": "!",
            "color": "#FF2D00",
            "strikethrough": false,
            "bold": false
          },
          {
            "tag": "?",
            "color": "#3498DB",
            "strikethrough": false,
            "bold": false
          },
          {
            "tag": "//",
            "color": "#474747",
            "strikethrough": true,
            "bold": false
          },
          {
            "tag": "todo",
            "color": "#FF8C00",
            "strikethrough": false,
            "bold": false
          },
          {
            "tag": "*",
            "color": "#98C379",
            "strikethrough": false,
            "bold": false
          }
        ],

        // ═══════════════════════════════════════════════════════════════
        // OTHER
        // ═══════════════════════════════════════════════════════════════
        "breadcrumbs.enabled": true,
        // ═══════════════════════════════════════════════════════════════
        // CSPELL (Spell Checker)
        // ═══════════════════════════════════════════════════════════════
        "cSpell.words": [
          "comicwise",
          "drizzle",
          "neon",
          "zustand",
          "jotai",
          "zxcvbn",
          "lucide",
          "radix",
          "shadcn",
          "imagekit",
          "cloudinary",
          "nodemailer",
          "resend",
          "zod",
          "bcryptjs",
          "nextauth",
          "tanstack",
          "trpc",
          "sonner",
          "nuqs",
          "vaul",
          "cmdk",
          "clsx",
          "tailwindcss",
          "turbopack",
          "pnpm",
          "esbenp",
          "dbaeumer",
          "bradlc",
          "streetsidesoftware"
        ],

        "chat.agent.maxRequests": 1000,
        "chat.mcp.gallery.enabled": true,

        "editor.acceptSuggestionOnCommitCharacter": true,
        "editor.acceptSuggestionOnEnter": "on",
        "editor.accessibilitySupport": "off",

        "editor.bracketPairColorization.enabled": true,
        "editor.codeActionsOnSave": {
          "source.fixAll.eslint": "explicit",
          "source.organizeImports": "explicit",
          "source.removeUnusedImports": "explicit",
          "source.addMissingImports": "explicit"
        },
        "editor.cursorBlinking": "smooth",
        "editor.cursorSmoothCaretAnimation": "on",
        // ═══════════════════════════════════════════════════════════════
        // COMICWISE VSCODE SETTINGS
        // Next.js 16 + React 19 + TypeScript + Tailwind CSS + Drizzle ORM
        // ═══════════════════════════════════════════════════════════════

        // ═══════════════════════════════════════════════════════════════
        // EDITOR CORE
        // ═══════════════════════════════════════════════════════════════
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.detectIndentation": false,
        "editor.fontFamily": "Fira Code, Cascadia Code, JetBrains Mono, Consolas, 'Courier New', monospace",
        "editor.fontLigatures": true,
        "editor.fontSize": 14,
        "editor.formatOnPaste": true,
        "editor.formatOnSave": true,
        "editor.guides.bracketPairs": "active",
        "editor.guides.highlightActiveIndentation": true,
        "editor.guides.indentation": true,
        "editor.hover.delay": 300,
        "editor.hover.enabled": "on",
        "editor.inlineSuggest.enabled": true,
        "editor.insertSpaces": true,
        "editor.lightbulb.enabled": "onCode",
        "editor.lineHeight": 1.6,
        "editor.lineNumbers": "on",
        "editor.linkedEditing": true,
        "editor.minimap.enabled": false,
        "editor.parameterHints.enabled": true,
        "editor.quickSuggestions": {
          "strings": true,
          "comments": false,
          "other": true
        },
        "editor.rename.enablePreview": true,
        "editor.renameOnType": false,
        "editor.renderWhitespace": "boundary",
        "editor.rulers": [80, 120],
        "editor.semanticHighlighting.enabled": true,
        "editor.smoothScrolling": true,
        "editor.snippetSuggestions": "top",
        "editor.stickyScroll.enabled": true,
        "editor.suggestSelection": "first",
        "editor.tabSize": 2,
        "editor.trimAutoWhitespace": true,
        "editor.unicodeHighlight.ambiguousCharacters": true,
        "editor.unicodeHighlight.invisibleCharacters": true,
        "editor.wordBasedSuggestions": "matchingDocuments",
        "editor.wordWrap": "on",
        // ═══════════════════════════════════════════════════════════════
        // EMMET CONFIGURATION
        // ═══════════════════════════════════════════════════════════════
        "emmet.includeLanguages": {
          "javascript": "javascriptreact",
          "typescript": "typescriptreact"
        },
        "emmet.triggerExpansionOnTab": true,

        // ═══════════════════════════════════════════════════════════════
        // ERROR LENS
        // ═══════════════════════════════════════════════════════════════
        "errorLens.enabledDiagnosticLevels": ["error", "warning"],
        "errorLens.excludeBySource": ["cSpell"],

        "eslint.alwaysShowStatus": true,
        "eslint.codeActionsOnSave.mode": "all",
        "eslint.format.enable": false,
        "eslint.lintTask.enable": true,

        "eslint.probe": [
          "javascript",
          "javascriptreact",
          "typescript",
          "typescriptreact"
        ],
        // ═══════════════════════════════════════════════════════════════
        // ESLINT CONFIGURATION (Flat Config Support)
        // ═══════════════════════════════════════════════════════════════
        "eslint.useFlatConfig": true,
        "eslint.validate": [
          "javascript",
          "javascriptreact",
          "typescript",
          "typescriptreact"
        ],
        // ═══════════════════════════════════════════════════════════════
        // FILE ASSOCIATIONS & EXCLUSIONS
        // ═══════════════════════════════════════════════════════════════
        "files.associations": {
          "*.css": "tailwindcss",
          "*.ts": "typescript",
          "*.tsx": "typescriptreact",
          "*.env*": "dotenv"
        },
        "files.exclude": {
          "**/.git": true,
          "**/.DS_Store": true,
          "**/node_modules": true,
          "**/.next": true
        },
        "files.insertFinalNewline": true,
        "files.trimTrailingWhitespace": true,

        "files.watcherExclude": {
          "**/.git/objects/**": true,
          "**/.git/subtree-cache/**": true,
          "**/node_modules/**": true,
          "**/.next/**": true,
          "**/dist/**": true,
          "**/build/**": true
        },
        // ═══════════════════════════════════════════════════════════════
        // GIT CONFIGURATION
        // ═══════════════════════════════════════════════════════════════
        "git.autofetch": true,
        "git.confirmSync": false,
        "git.enableSmartCommit": true,

        // ═══════════════════════════════════════════════════════════════
        // GITHUB COPILOT
        // ═══════════════════════════════════════════════════════════════
        "github.copilot.enable": {
          "*": true,
          "plaintext": true,
          "markdown": false,
          "scminput": false
        },
        "github.copilot.nextEditSuggestions.enabled": true,
        "javascript.preferences.importModuleSpecifier": "non-relative",

        // ═══════════════════════════════════════════════════════════════
        // JAVASCRIPT CONFIGURATION
        // ═══════════════════════════════════════════════════════════════
        "javascript.suggest.autoImports": true,
        "javascript.updateImportsOnFileMove.enabled": "always",
        "makefile.configureOnOpen": true,
        // ═══════════════════════════════════════════════════════════════
        // PATH INTELLISENSE
        // ═══════════════════════════════════════════════════════════════
        "path-intellisense.autoSlashAfterDirectory": true,
        "path-intellisense.extensionOnImport": true,
        "path-intellisense.mappings": {
          "@": "${workspaceFolder}/src"
        },

        // ═══════════════════════════════════════════════════════════════
        // PRETTIER CONFIGURATION
        // ═══════════════════════════════════════════════════════════════
        "prettier.requireConfig": true,
        "prettier.useEditorConfig": false,

        "redhat.telemetry.enabled": true,
        // ═══════════════════════════════════════════════════════════════
        // SEARCH CONFIGURATION
        // ═══════════════════════════════════════════════════════════════
        "search.exclude": {
          "**/node_modules": true,
          "**/dist": true,
          "**/.next": false,
          "**/package-lock.json": true,
          "**/pnpm-lock.yaml": true,
          "**/yarn.lock": true
        },

        // ═══════════════════════════════════════════════════════════════
        // TAILWIND CSS CONFIGURATION
        // ═══════════════════════════════════════════════════════════════
        "tailwindCSS.emmetCompletions": true,
        "tailwindCSS.experimental.classRegex": [
          ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"],
          ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
        ],

        "tailwindCSS.includeLanguages": {
          "typescript": "javascript",
          "typescriptreact": "javascript"
        },
        "terminal.integrated.cursorBlinking": true,
        "terminal.integrated.cursorStyle": "line",
        // ═══════════════════════════════════════════════════════════════
        // TERMINAL
        // ═══════════════════════════════════════════════════════════════
        "terminal.integrated.defaultProfile.windows": "PowerShell",
        "terminal.integrated.fontFamily": "Cascadia Code, Consolas",
        "terminal.integrated.fontSize": 13,
        "terminal.integrated.profiles.windows": {
          "PowerShell": {
            "path": "${env:WINDIR}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe"
          }
        },
        "terminal.integrated.scrollback": 10000,
        "terminal.integrated.shellIntegration.enabled": true,
        "terminal.integrated.stickyScroll.enabled": false,

        "terminal.integrated.suggest.enabled": true,
        // ═══════════════════════════════════════════════════════════════
        // TODO TREE
        // ═══════════════════════════════════════════════════════════════
        "todo-tree.general.tags": [
          "TODO",
          "FIXME",
          "BUG",
          "HACK",
          "NOTE",
          "XXX"
        ],
        "todo-tree.highlights.defaultHighlight": {
          "gutterIcon": true
        },

        "typescript.enablePromptUseWorkspaceTsdk": true,
        "typescript.inlayHints.enumMemberValues.enabled": true,

        "typescript.inlayHints.functionLikeReturnTypes.enabled": true,
        "typescript.inlayHints.parameterNames.enabled": "literals",
        "typescript.inlayHints.parameterTypes.enabled": true,
        "typescript.inlayHints.propertyDeclarationTypes.enabled": true,
        "typescript.inlayHints.variableTypes.enabled": true,
        "typescript.preferences.importModuleSpecifier": "non-relative",
        "typescript.preferences.includePackageJsonAutoImports": "on",
        "typescript.preferences.preferTypeOnlyAutoImports": true,
        "typescript.suggest.autoImports": true,
        "typescript.suggest.completeFunctionCalls": true,
        "typescript.suggest.paths": true,
        // ═══════════════════════════════════════════════════════════════
        // TYPESCRIPT CONFIGURATION
        // ═══════════════════════════════════════════════════════════════
        "typescript.tsdk": "node_modules/typescript/lib",
        "typescript.updateImportsOnFileMove.enabled": "always",
        "workbench.colorCustomizations": {
          "editorRuler.foreground": "#2e3440"
        },

        "workbench.editor.enablePreview": false,
        "workbench.editor.highlightModifiedTabs": true,
        "workbench.editor.labelFormat": "short",
        // ═══════════════════════════════════════════════════════════════
        // WORKBENCH
        // ═══════════════════════════════════════════════════════════════
        "workbench.iconTheme": "material-icon-theme",
        "workbench.productIconTheme": "icons-carbon",
        "workbench.startupEditor": "welcomePageInEmptyWorkbench",
        "workbench.tree.indent": 20
      },
      // https://code.visualstudio.com/docs/remote/devcontainerjson-reference#_vs-code-specific-properties
      // Add the IDs of extensions you want installed when the container is created.
      "extensions": {
        "recommendations": [
          // ═══════════════════════════════════════════════════════════════
          // CORE DEVELOPMENT TOOLS
          // ═══════════════════════════════════════════════════════════════
          "dbaeumer.vscode-eslint",
          "esbenp.prettier-vscode",
          "ms-vscode.vscode-typescript-next",
          "stateful.runme",

          // ═══════════════════════════════════════════════════════════════
          // FRONTEND FRAMEWORKS & STYLING
          // ═══════════════════════════════════════════════════════════════
          "bradlc.vscode-tailwindcss",
          "dsznajder.es7-react-js-snippets",
          "burkeholland.simple-react-snippets",

          // ═══════════════════════════════════════════════════════════════
          // DATABASE & ORM
          // ═══════════════════════════════════════════════════════════════
          "drizzle-team.drizzle-vscode",
          "cweijan.vscode-postgresql-client2",

          // ═══════════════════════════════════════════════════════════════
          // TESTING & DEBUGGING
          // ═══════════════════════════════════════════════════════════════
          "orta.vscode-jest",
          "vitest.explorer",
          "ms-playwright.playwright",

          // ═══════════════════════════════════════════════════════════════
          // GIT & VERSION CONTROL
          // ═══════════════════════════════════════════════════════════════
          "eamodio.gitlens",
          "mhutchie.git-graph",
          "donjayamanne.githistory",

          // ═══════════════════════════════════════════════════════════════
          // CODE QUALITY & FORMATTING
          // ═══════════════════════════════════════════════════════════════
          "streetsidesoftware.code-spell-checker",
          "usernamehw.errorlens",
          "yoavbls.pretty-ts-errors",
          "aaron-bond.better-comments",
          "wayou.vscode-todo-highlight",
          "gruntfuggly.todo-tree",

          // ═══════════════════════════════════════════════════════════════
          // PRODUCTIVITY & SNIPPETS
          // ═══════════════════════════════════════════════════════════════
          "formulahendry.auto-rename-tag",
          "christian-kohler.path-intellisense",
          "christian-kohler.npm-intellisense",
          "editorconfig.editorconfig",

          // ═══════════════════════════════════════════════════════════════
          // DOCKER & CONTAINERS
          // ═══════════════════════════════════════════════════════════════
          "ms-azuretools.vscode-docker",
          "ms-vscode-remote.remote-containers",

          // ═══════════════════════════════════════════════════════════════
          // API & REST TOOLS
          // ═══════════════════════════════════════════════════════════════
          "humao.rest-client",
          "graphql.vscode-graphql",

          // ═══════════════════════════════════════════════════════════════
          // DOCUMENTATION & MARKDOWN
          // ═══════════════════════════════════════════════════════════════
          "yzhang.markdown-all-in-one",
          "bierner.markdown-mermaid",

          // ═══════════════════════════════════════════════════════════════
          // CONFIGURATION FILES
          // ═══════════════════════════════════════════════════════════════
          "redhat.vscode-yaml",
          "tamasfe.even-better-toml",
          "mikestead.dotenv",

          // ═══════════════════════════════════════════════════════════════
          // UI & THEMES
          // ═══════════════════════════════════════════════════════════════
          "pkief.material-icon-theme",
          "antfu.icons-carbon",
          "oderwat.indent-rainbow",
          "naumovs.color-highlight",

          // ═══════════════════════════════════════════════════════════════
          // GITHUB INTEGRATION
          // ═══════════════════════════════════════════════════════════════
          "github.copilot",
          "github.copilot-chat",

          // ═══════════════════════════════════════════════════════════════
          // SHELL & SCRIPTING
          // ═══════════════════════════════════════════════════════════════
          "ms-vscode.powershell"
        ],
        "unwantedRecommendations": [
          "hookyqr.beautify",
          "dbaeumer.jshint",
          "ms-vscode.vscode-typescript-tslint-plugin",
          "visualstudioexptteam.vscodeintellicode",
          "liuji-jim.lua"
        ]
      }
    }
  },
  "dockerComposeFile": ["../docker-compose.dev.yml"],
  "init": true,
  "mounts": [
    {
      "source": "./.devcontainer/bash_history",
      "target": "/home/dev-user/.bash_history",
      "type": "bind"
    },
    {
      "source": "~/.ssh",
      "target": "/home/dev-user/.ssh",
      "type": "bind"
    }
  ],
  "name": "backend_dev",
  // Tells devcontainer.json supporting services / tools whether they should run
  // /bin/sh -c "while sleep 1000; do :; done" when starting the container instead of the container’s default command
  "overrideCommand": false,
  // Uncomment the next line if you want start specific services in your Docker Compose config.
  // "runServices": [],
  // Uncomment the next line if you want to keep your containers running after VS Code shuts down.
  // "shutdownAction": "none",
  // Uncomment the next line to run commands after the container is created.
  "postCreateCommand": "cat .devcontainer/bashrc.override.sh >> ~/.bashrc",
  // "remoteEnv": {"PATH": "/home/dev-user/.local/bin:${containerEnv:PATH}"},
  "remoteUser": "dev-user",
  "service": "app",
  "workspaceFolder": "/app"
}
